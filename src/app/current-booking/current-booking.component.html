<app-admin-navbar></app-admin-navbar>
<div class="container">
  <h2 class="title">
    order Details
  </h2>
  <a class="back" routerLink="/userorder"> <i class="fa-solid fa-circle-left"></i></a>
  <div class="bookingDetails" *ngIf="bookingdetail">
    <div class="content-section">
      <div class="card">
        <div class="image">
          <img [src]="bookingdetail.carinfo.images" alt="Car Brand">
        </div>
        <div class="content">
          <h2>{{ bookingdetail.carinfo.carname }}</h2>
          <div class="card-info">
            <div class="user">
              <h3>User Details</h3>
              <span>Booking ID:&nbsp;{{bookingdetail.id}}</span>
              <span>Username:&nbsp;{{bookingdetail.user.username}}</span>
              <span>Email:&nbsp;{{bookingdetail.user.email}}</span>
              <span>phone:&nbsp;{{bookingdetail.user.phone}}</span>
              <span>Address:&nbsp;{{bookingdetail.user.address}}</span>
              <span></span>
            </div>
          </div>
        </div>
        <table>
          <thead>
            <tr>
              <th>pickUp Date</th>
              <th>pickup Address</th>
              <th>DropOff Date</th>
              <th>DropOff Address</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>{{bookingdetail.formDetails.pickupDate}}</td>
              <td>{{bookingdetail.formDetails.pickupAddress}}</td>
              <td>{{bookingdetail.formDetails.dropoffDate}}</td>
              <td>{{bookingdetail.formDetails.dropoffAddress}}</td>
            </tr>
          </tbody>
          <thead>
            <tr>
              <th>Driver Needed</th>
              <th>paymentOption</th>
              <th>Total Amount</th>
              <th>Paid Amount</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>{{bookingdetail.formDetails.driverOption}}</td>
              <td>{{bookingdetail.formDetails.paymentOption}}</td>
              <td>Rs.{{bookingdetail.formDetails.rentalRate}}/-</td>
              <td>Rs.{{bookingdetail.formDetails.totalRent}}/-</td>
            </tr>
          </tbody>
        </table>

        <div class="card-footer">
          <button *ngIf="bookingdetail.userStatus !== 'Cancelled'&& bookingdetail.userStatus !== 'Expired'"
            (click)="cancelBooking(bookingdetail.id, bookingdetail.carinfo.id)">Cancel the Booking</button>
          <!-- <button *ngIf="bookingdetail.userStatus !== 'Cancelled'&& bookingdetail.userStatus !== 'Expired'" (click)="confirmBooking(bookingdetail.id, bookingdetail.carinfo.id)" >Confirm the Booking</button> -->
          <button *ngIf="bookingdetail.userStatus !== 'Cancelled' && bookingdetail.userStatus !== 'Expired'"
            (click)="returnBooking(bookingdetail.id, bookingdetail.carinfo.id)">Returned</button>
        </div>
      </div>
    </div>
  </div>
</div>
